# アクセス委任ラウンド  

アクセス委任のラウンドへようこそ！  

あなたは、組織の AWS アカウントを管理する「スーパーユーザー」の役割を担います。あなたは Amazon GuardDuty、Inspector、Macie が AWS 環境内のデータ、ホスト、ネットワークトラフィックを監視し、異常な動作を検出するのに役立つサービスだと知っていて、チームのメンバーにこれらのサービスへのアクセス権を与えて業務を遂行してもらいたいですが、あまりにも多くのアクセス権を与えることも心配しています。このワークショップでは IAM を使用して、これらのサービスへのアクセスをAWSセキュリティ管理者とAWSセキュリティオペレーターに権限委任する方法を学習します。
このラウンドでは、AWS セキュリティ管理者は AWS セキュリティサービスへのフルアクセスが必要ですが、AWS セキュリティオペレータはサービスへの「読み取り専用」アクセスのみを必要とするような設定をしていきます。  

**AWS のサービス/機能の範囲** : 

* AWS Identity and Access Management (IAM)
* AWS コンソールでのロールの切り替え (スイッチロール)
* Amazon GuardDuty
* Amazon Inspector
* Amazon Macie

## アジェンダ

このラウンドは、構築フェーズと検証フェーズに分けられます。

* **構築** (45 分): 構築フェーズでは、以下のことを行います。

1. us-west-1 (バージニア北部) リージョンで、AWS CloudFormation を使用して環境を構築します。
2. 環境をさらにカスタマイズして、セキュリティオペレーターロールの機能を制限します。
3. 動作確認します

* 検証** (30 分): 検証フェーズでは、*他のチーム*が構築した環境をテストし、要件が満たされていることを確認します。以下の操作を行います。

1. 構築フェーズを実行した他のチームから、ログイン認証情報を入手します。
2. セキュリティオペレーターのロールが正しく設定されているかどうかを動作確認します。
3. 調査結果を共有します。

> このワークショップは、チームで行うことも、個人で行うこともできます。手順は、チームの一員として作業することを前提に記述されていますが、個人で実行することも可能です。AWS 主催のイベントの一環として行われる場合は、4～6 人程度のチームに分かれて実施します。各チームが構築フェーズを実施し、アカウントを他のチームに引き継ぎます。その後、他のチームが検証フェーズを実行します。



## 前提条件  

1. このラボで利用するための AWS アカウントと管理者の認証情報が必要です。（この情報は、イベントによって提供される場合もあります）
2. AWS CloudFormation や Amazon S3 などの AWS コアサービスの知識があり、AWS コンソールを使い慣れている必要があります。
3. ラボの手順は、利用するアカウントが検証用で、新規またはクリーンであることを前提として書かれています。業務や本番用のアカウントで実行しないことを強くお勧めします。

## アーキテクチャの概要

このラウンドの環境は、Amazon GuardDuty、Amazon Inspector、Amazon Macie、Amazon CloudTrail が動作する AWS アカウントで構成されます。CloudTrail のログは Amazon S3 バケットに送信されます。
 また、このテンプレートにより 2 つの AWS IAM ロールが作成されます。1 つ目のロールは、これらのAWS サービスへのフルアクセス権を持つセキュリティ管理者用です。2 つ目のロールは、セキュリティオペレーター用です。セキュリティオペレーターロールは、*作成時点では*、セキュリティ管理者ロールによく似ていますが、セキュリティオペレーターロールのアクセス権を変更し、「読み取り専用」のアクセス権を付与します。セキュリティ管理者/オペレーターロールは、セキュリティサービスの使用を別のセキュリティチームに委任する組織でよく使用されます。

構成は下記のようなイメージになります。

![ESS Round Drawing](./images/IamEssDrawing.png)

## 準備

1. AWS アカウントと、そのアカウントへ管理者ログインするための認証情報が必要です。この情報は、イベントスポンサーによって提供される場合があります。（この情報は、イベントによって提供される場合もあります）

## 

Next (次へ) をクリックし、**構築フェーズ**に進みます。